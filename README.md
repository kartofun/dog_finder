## Описание проекта

Небольшой веб-сервис для определения собак на картинке. Взаимодействие с сервисом реализовано через стандарный функционал `FastAPI`, классификатор собак (и кошек) написан на `C++`, библиотека на плюсах обёрнута с помощью `pybind11`. Сборка `C++` проекта - с помощью `CMake`, весь проект обёрнут в докер-контейнер. Так как в качестве фреймворка используется `FastAPI`, есть встроенная документация методов на `Swagger`.

## Необходимые предустановленные инструменты:
* git
* docker

## Загрузка и установка

### Установка с помощью git

* `git clone https://github.com/kartofun/dog_finder`
* `cd dog_finder`
* `docker build . --tag dog_finder` - этот этап может занимать довольно много времени (15-20 минут)

* `docker container run -p 8000:8000 --name dog_finder dog_finder`

## Использование методов

### `find_dog(file_bytes: bytes = File())`

* Входные данные: картинка в формате `.png`

* Выходные данные: `json`-строка вида {'status': 'ok'/'error', 'found_dog': True/False, 'error': ''/'Bad image'}

	- Если на картинке была найдена собака, вернётся строка {'status': 'ok', 'found_dog': True, 'error': ''}
	- Если собака не была найдена: {'status': 'ok', 'found_dog': False, 'error': ''}
	- Если на вход была подана картинка более 10 МБ, было подано не изображение или пустое изображение: {'status': 'error', 'found_dog': False, 'error': 'Image size > 10 MB!'}
	- Если на вход была подана пустая картинка (size 0 Kb) или файл, не имеющий изображения (переименованный pdf): {'status': 'error', 'found_dog': False, 'error': 'No data image'}